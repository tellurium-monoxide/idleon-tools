import { BaseFeature } from "../../BaseFeature.js";

export class Achievements extends BaseFeature {

    constructor(account) {
        super(account);

        let achieve_data = account.save_data["AchieveReg"]
        delete account.save_data_pruned["AchieveReg"]
        // console.log(achieve_data)
        this.achiev_data = DATA_ACHIEVEMENTS
        for (let name in this.achiev_data) {
            let id = this.achiev_data[name].id
            let obtained = (achieve_data[id] == -1)
            this.achiev_data[name].obtained = obtained
        }

        // console.log(this.achiev_data)

    }

    getAchievByName(name) {
        return this.achiev_data[name].obtained
    }
    has(name) {
        return this.achiev_data[name].obtained
    }


    getTotalAchievements() {
        let count = 0
        for (let [name, achiev] of Object.entries(this.achiev_data)) {
            if (achiev.obtained) {
                count++
            }

        }
        return count
    }



    convertFromIT(IT_achiev_data) {
        let letterToWorld = { "A": 1, "B": 2, "C": 3, "D": 4, "E": 5, "F": 6 }
        let data = {}
        for (let [ind, achiev] of IT_achiev_data.entries()) {
            let { name, rawName, quantity, misc, visualIndex, steamExclusive, steamIndex } = achiev
            if (name.includes("FILLERZZZ")) {

            } else {
                let loc = rawName.replace("TaskAch", "")
                let world = letterToWorld[loc[0]]
                let wid = loc.substring(1); // actually not useful since display depends on something else
                data[name] = { "id": ind, world, "order": visualIndex }
            }
        }

        console.log(data)
        console.log(JSON.stringify(data))
    }
}



//TODO : simplify this data into arrays to save space


export const DATA_ACHIEVEMENTS = { "Learn_2_Forge": { "id": 0, "world": 1, "order": 0 }, "Another_Me!": { "id": 1, "world": 1, "order": 2 }, "Sleepy_Gamer": { "id": 2, "world": 1, "order": 1 }, "Classy!": { "id": 3, "world": 1, "order": 3 }, "Hitting_the_Mark": { "id": 4, "world": 1, "order": 4 }, "Learn_2_Entertain": { "id": 5, "world": 1, "order": 5 }, "5_'hunned_Copper": { "id": 6, "world": 1, "order": 6 }, "Rookie_Player": { "id": 7, "world": 1, "order": 8 }, "1.5_Ki'log'grams": { "id": 8, "world": 1, "order": 9 }, "Small_Savings": { "id": 9, "world": 1, "order": 10 }, "Copper_Quipment": { "id": 10, "world": 1, "order": 11 }, "The_Sculpture_Within": { "id": 11, "world": 1, "order": 12 }, "Card_Collector": { "id": 12, "world": 1, "order": 13 }, "Do_What_You're_Told": { "id": 13, "world": 1, "order": 14 }, "Learn_2_Translate": { "id": 14, "world": 1, "order": 15 }, "Wode_Together": { "id": 15, "world": 1, "order": 16 }, "2_Tons_of_Iron": { "id": 16, "world": 1, "order": 17 }, "Giga_Decimation": { "id": 17, "world": 1, "order": 20 }, "Shut_it_Poochy": { "id": 18, "world": 1, "order": 21 }, "Average_Player": { "id": 19, "world": 1, "order": 22 }, "Slimeicidal_Endeavor": { "id": 20, "world": 1, "order": 23 }, "Right_to_Bear_Iron": { "id": 21, "world": 1, "order": 24 }, "5-6_Pick_up_Sticks": { "id": 22, "world": 1, "order": 25 }, "20_Bundles_of_Jungle": { "id": 23, "world": 1, "order": 26 }, "Colosseum_Contender": { "id": 24, "world": 1, "order": 27 }, "Crystal_Beatdown": { "id": 25, "world": 1, "order": 28 }, "Ten_Trips_of_Gold": { "id": 26, "world": 1, "order": 29 }, "Minecart_Maniac": { "id": 27, "world": 1, "order": 30 }, "Spike_Minigame_Master": { "id": 28, "world": 1, "order": 31 }, "Anvil_Expansion": { "id": 29, "world": 1, "order": 32 }, "Steppin'_on_the_Rats": { "id": 30, "world": 1, "order": 33 }, "Tree_Top_Dropout": { "id": 31, "world": 1, "order": 34 }, "Naked_and_Unafraid": { "id": 32, "world": 1, "order": 35 }, "House_Flipper": { "id": 33, "world": 1, "order": 36 }, "Platinum_200G": { "id": 34, "world": 1, "order": 37 }, "Guild_Member": { "id": 35, "world": 1, "order": 39 }, "Boss_Buster": { "id": 36, "world": 1, "order": 40 }, "Nutty_Crafter": { "id": 37, "world": 1, "order": 43 }, "Minecart_Master": { "id": 38, "world": 1, "order": 44 }, "Choppin'_to_the_Beat": { "id": 39, "world": 1, "order": 45 }, "Decked_Out_in_Gold": { "id": 40, "world": 1, "order": 46 }, "Nice_Fur_Suit": { "id": 41, "world": 1, "order": 47 }, "Half_a_Mill-log": { "id": 42, "world": 1, "order": 48 }, "Bad_Doggy!": { "id": 43, "world": 1, "order": 50 }, "Two-Time_Savior": { "id": 44, "world": 1, "order": 51 }, "Million_Null_'n_Void": { "id": 45, "world": 1, "order": 52 }, "Lucky_7s": { "id": 46, "world": 1, "order": 54 }, "What_a_View!": { "id": 47, "world": 1, "order": 55 }, "Cavernous_Nook": { "id": 48, "world": 1, "order": -1 }, "Seriousleaf-ast!": { "id": 49, "world": 1, "order": 56 }, "Peanut_Pioneer": { "id": 50, "world": 1, "order": 57 }, "Meel_Time!": { "id": 51, "world": 1, "order": 58 }, "Pro_Gamer_Move": { "id": 52, "world": 1, "order": 59 }, "Meet_the_Dev": { "id": 53, "world": 1, "order": 60 }, "Heyo!": { "id": 54, "world": 1, "order": 7 }, "Anothervil_Expansion": { "id": 55, "world": 1, "order": 49 }, "Based_Roots": { "id": 56, "world": 1, "order": 38 }, "Dungeon_Pinch": { "id": 57, "world": 1, "order": 18 }, "Big_Frog_Angry": { "id": 58, "world": 1, "order": 19 }, "Big_Frog_Furious": { "id": 59, "world": 1, "order": 42 }, "Big_Frog_Big_Sad": { "id": 60, "world": 1, "order": 53 }, "2_minute_meal": { "id": 61, "world": 1, "order": 41 }, "Big_Frog_Big_Mad": { "id": 62, "world": 1, "order": 61 }, "Down_by_the_Desert": { "id": 70, "world": 2, "order": 0 }, "Elite_Player": { "id": 71, "world": 2, "order": 2 }, "Retirement_Fund": { "id": 72, "world": 2, "order": 3 }, "More_and_More_Me!": { "id": 73, "world": 2, "order": 1 }, "Golden_Fly": { "id": 74, "world": 2, "order": 4 }, "Hammer_Bub": { "id": 75, "world": 2, "order": 5 }, "Wassup_Yo!": { "id": 76, "world": 2, "order": 6 }, "Gold_School": { "id": 77, "world": 2, "order": 7 }, "Buzz_Buzz": { "id": 78, "world": 2, "order": 8 }, "Careful,_it's_Sharp!": { "id": 79, "world": 2, "order": 9 }, "Hybernation": { "id": 80, "world": 2, "order": 10 }, "Vial_Noob": { "id": 81, "world": 2, "order": 11 }, "Specializational!": { "id": 82, "world": 2, "order": 12 }, "Obols_Oh_Boy!": { "id": 83, "world": 2, "order": 13 }, "Well_Learned": { "id": 84, "world": 2, "order": 14 }, "B-o-B_to_Help": { "id": 85, "world": 2, "order": 17 }, "Card_Enthusiast": { "id": 86, "world": 2, "order": 18 }, "Efaunt_Trumped": { "id": 87, "world": 2, "order": 19 }, "Fishing_Finesse": { "id": 88, "world": 2, "order": 20 }, "Catching_Coronation": { "id": 89, "world": 2, "order": 21 }, "Crystal_Superslam": { "id": 90, "world": 2, "order": 22 }, "Slumbering_Gamer": { "id": 91, "world": 2, "order": 23 }, "My_First_Trophy!": { "id": 92, "world": 2, "order": 24 }, "A_Fish_Too_Far": { "id": 93, "world": 2, "order": 25 }, "Rat-a-tat-tat": { "id": 94, "world": 2, "order": 26 }, "Pillars_of_Sand": { "id": 95, "world": 2, "order": 27 }, "Vial_Connoisseur": { "id": 96, "world": 2, "order": 28 }, "Coarse_Cards": { "id": 97, "world": 2, "order": 29 }, "Trial_by_Time": { "id": 98, "world": 2, "order": 30 }, "Golden_Obolden!": { "id": 99, "world": 2, "order": 31 }, "Monocle_No_More": { "id": 100, "world": 2, "order": 32 }, "Jellyfish_Jelly": { "id": 101, "world": 2, "order": 33 }, "Super_Cereal": { "id": 102, "world": 2, "order": 34 }, "Sweet_Victory": { "id": 103, "world": 2, "order": 35 }, "Ink_Blot": { "id": 104, "world": 2, "order": 36 }, "Demon_Demolisher": { "id": 105, "world": 2, "order": 37 }, "Dumbo_Destroyer": { "id": 106, "world": 2, "order": 41 }, "Threadin'_the_Needle": { "id": 107, "world": 2, "order": 42 }, "S-M-R-T": { "id": 108, "world": 2, "order": 43 }, "Two_Desserts!": { "id": 109, "world": 2, "order": 44 }, "Nuget_Nightmare": { "id": 110, "world": 2, "order": 45 }, "Bigtime_Bloacher": { "id": 111, "world": 2, "order": 46 }, "Vial_Junkee": { "id": 112, "world": 2, "order": 47 }, "Fruit_Salad": { "id": 113, "world": 2, "order": 48 }, "Your_Skin,_My_Skin": { "id": 114, "world": 2, "order": 49 }, "WAAAAAAAHH!": { "id": 115, "world": 2, "order": 51 }, "Bobjoepicklejar": { "id": 116, "world": 2, "order": 52 }, "Fish_Aint_Biting": { "id": 117, "world": 2, "order": 53 }, "Skill_Master": { "id": 118, "world": 2, "order": 54 }, "Tomb_Raider": { "id": 119, "world": 2, "order": 15 }, "Tomb_Defiler": { "id": 120, "world": 2, "order": 38 }, "Tomb_Completionist": { "id": 121, "world": 2, "order": 50 }, "Wazzzzam!": { "id": 122, "world": 2, "order": 40 }, "Just_Passing_By": { "id": 123, "world": 2, "order": 16 }, "Dungeon_Slap": { "id": 124, "world": 2, "order": 39 }, "Snowy_Wonderland": { "id": 140, "world": 3, "order": 0 }, "Veteran_Gamer": { "id": 141, "world": 3, "order": 2 }, "A_Family_of_Me!": { "id": 142, "world": 3, "order": 5 }, "Croakin'_Froge": { "id": 143, "world": 3, "order": 4 }, "Sad_Souls": { "id": 144, "world": 3, "order": 1 }, "Checkout_Takeout": { "id": 145, "world": 3, "order": 3 }, "Yawning_Cogs": { "id": 146, "world": 3, "order": 6 }, "Blunder_Skull": { "id": 147, "world": 3, "order": 7 }, "Too_Cute_To_Live": { "id": 148, "world": 3, "order": 8 }, "Big_Mobs_Eek": { "id": 149, "world": 3, "order": 9 }, "Powdered_Neutronium": { "id": 150, "world": 3, "order": 10 }, "Soulslike": { "id": 151, "world": 3, "order": 11 }, "Good_Times_Roll": { "id": 152, "world": 3, "order": 12 }, "Cog_in_the_System": { "id": 153, "world": 3, "order": 13 }, "I_Create...": { "id": 154, "world": 3, "order": 14 }, "I_Sawed...": { "id": 155, "world": 3, "order": 16 }, "Hairy_Ice_Comb": { "id": 156, "world": 3, "order": 17 }, "Giant_Slayer": { "id": 157, "world": 3, "order": 18 }, "Saharan_Skull": { "id": 158, "world": 3, "order": 19 }, "Fat_Souls": { "id": 159, "world": 3, "order": 20 }, "Borrowed_Pens": { "id": 160, "world": 3, "order": 21 }, "Large_Fortune": { "id": 161, "world": 3, "order": 22 }, "Sqeakin'_Mousey": { "id": 162, "world": 3, "order": 23 }, "Geared_for_Success": { "id": 163, "world": 3, "order": 24 }, "Guild_Higher-Up": { "id": 164, "world": 3, "order": 25 }, "Legendary_Gamer": { "id": 165, "world": 3, "order": 26 }, "Entangled_Compounds": { "id": 166, "world": 3, "order": 27 }, "There_Can_Be_Only_1": { "id": 167, "world": 3, "order": 28 }, "Blurple_Skull": { "id": 168, "world": 3, "order": 30 }, "Souped_Up_Salts": { "id": 169, "world": 3, "order": 31 }, "I_Constructed!": { "id": 170, "world": 3, "order": 32 }, "Cogs_Be_Waitin'": { "id": 171, "world": 3, "order": 33 }, "Simpin'_for_NPC's": { "id": 172, "world": 3, "order": 35 }, "Top_Cogs": { "id": 173, "world": 3, "order": 36 }, "Card_Dude": { "id": 174, "world": 3, "order": 37 }, "Crystal_Champ": { "id": 175, "world": 3, "order": 38 }, "Smirky_Souls": { "id": 176, "world": 3, "order": 39 }, "Comatosed_Gamer": { "id": 177, "world": 3, "order": 40 }, "Knock_on_Wood": { "id": 178, "world": 3, "order": 41 }, "The_Goose_is_Loose": { "id": 179, "world": 3, "order": 42 }, "Sepia_Vision": { "id": 180, "world": 3, "order": 43 }, "Rattle_them_Bones": { "id": 181, "world": 3, "order": 45 }, "A_Most_Nice_Sale": { "id": 182, "world": 3, "order": 48 }, "Cool_Score!": { "id": 183, "world": 3, "order": 34 }, "Dungeon_Wallop": { "id": 184, "world": 3, "order": 47 }, "Boss_Defeated": { "id": 185, "world": 3, "order": 15 }, "Manager_Defeated": { "id": 186, "world": 3, "order": 29 }, "Kingpin_Defeated": { "id": 187, "world": 3, "order": 46 }, "Capitalist_Win": { "id": 188, "world": 3, "order": 44 }, "Equinox_Visitor": { "id": 189, "world": 3, "order": 49 }, "Milky_Wayfarer": { "id": 210, "world": 4, "order": 0 }, "Channel_Surfing": { "id": 211, "world": 4, "order": 1 }, "Bottle_Capital": { "id": 212, "world": 4, "order": 8 }, "Too_Many_Tentacles": { "id": 213, "world": 4, "order": 20 }, "Mythical_Gamer": { "id": 214, "world": 4, "order": 10 }, "Matrix_Wickermen": { "id": 215, "world": 4, "order": 21 }, "Bland_Dish": { "id": 216, "world": 4, "order": 26 }, "Lv._5_Nothing": { "id": 217, "world": 4, "order": 27 }, "I_Like_This_Pet": { "id": 218, "world": 4, "order": 2 }, "I_LOVE_These_Pets": { "id": 219, "world": 4, "order": 11 }, "Shiny_Shells": { "id": 220, "world": 4, "order": 3 }, "Gilded_Shells": { "id": 221, "world": 4, "order": 12 }, "Barley_Lost": { "id": 222, "world": 4, "order": 4 }, "Petless": { "id": 223, "world": 4, "order": 13 }, "Cabbage_Patch": { "id": 224, "world": 4, "order": 5 }, "Le_Pretzel_Bleu": { "id": 225, "world": 4, "order": 14 }, "Michelin_Ranked": { "id": 226, "world": 4, "order": 15 }, "WOAH_That's_Fast": { "id": 227, "world": 4, "order": 16 }, "Stars_Among_Stars": { "id": 228, "world": 4, "order": 22 }, "Chippin'_Away": { "id": 229, "world": 4, "order": 17 }, "Hunned_Times_a_Day": { "id": 230, "world": 4, "order": 9 }, "Good_Plate": { "id": 231, "world": 4, "order": 6 }, "Great_Plate": { "id": 232, "world": 4, "order": 18 }, "Best_Plate": { "id": 233, "world": 4, "order": 23 }, "Space_Party!!!": { "id": 234, "world": 4, "order": 7 }, "Zero_G_Scorin'": { "id": 235, "world": 4, "order": 19 }, "Hibernating_Gamer": { "id": 236, "world": 4, "order": 24 }, "Mutant_Massacrer": { "id": 237, "world": 4, "order": 25 }, "Soda_Poisoning": { "id": 238, "world": 4, "order": 28 }, "The_True_King": { "id": 239, "world": 4, "order": 29 }, "The_True_Pirate": { "id": 240, "world": 4, "order": 30 }, "The_True_Emperor": { "id": 241, "world": 4, "order": 31 }, "Veritable_Master": { "id": 242, "world": 4, "order": 32 }, "Maple_Logger": { "id": 280, "world": 5, "order": 1 }, "Vitamin_D-licious": { "id": 281, "world": 5, "order": 7 }, "Wurm_Wumbo": { "id": 282, "world": 5, "order": 24 }, "Supernatural_Gamer": { "id": 283, "world": 5, "order": 5 }, "Smokin'_Stars": { "id": 284, "world": 5, "order": 20 }, "The_Plateauourist": { "id": 285, "world": 5, "order": 0 }, "No_Krakens?_):": { "id": 286, "world": 5, "order": 19 }, "Artifact_Finder": { "id": 287, "world": 5, "order": 2 }, "Artifact_Enjoyer": { "id": 288, "world": 5, "order": 6 }, "Artifact_Jones": { "id": 289, "world": 5, "order": 23 }, "Gilded_Vessel": { "id": 290, "world": 5, "order": 18 }, "Maroon_Warship": { "id": 291, "world": 5, "order": 21 }, "Glory_To_Nobisect": { "id": 292, "world": 5, "order": 4 }, "All_Hail_Purrmep": { "id": 293, "world": 5, "order": 17 }, "Long_Live_Bagur": { "id": 294, "world": 5, "order": 22 }, "POiNG_Champion": { "id": 295, "world": 5, "order": 8 }, "Lucky_Harvest": { "id": 296, "world": 5, "order": 14 }, "Chemical_Collector": { "id": 297, "world": 5, "order": 25 }, "Voraci_Vantasia": { "id": 298, "world": 5, "order": 9 }, "Bonsai_Bonanza": { "id": 299, "world": 5, "order": 3 }, "Perfect_Trade_Deal": { "id": 300, "world": 5, "order": 15 }, "True_Naval_Captain": { "id": 301, "world": 5, "order": 10 }, "Legendary_Orb": { "id": 302, "world": 5, "order": 11 }, "Legendary_Flag": { "id": 303, "world": 5, "order": 12 }, "Legendary_Wormhole": { "id": 304, "world": 5, "order": 13 }, "Utter_DISRESPECT": { "id": 305, "world": 5, "order": 28 }, "Sneaky_Stealing": { "id": 306, "world": 5, "order": 29 }, "Broken_Controller": { "id": 307, "world": 5, "order": 30 }, "Lavathian_Skulls": { "id": 308, "world": 5, "order": 27 }, "Seaworthy_Captain": { "id": 309, "world": 5, "order": 26 }, "Grand_Captain": { "id": 310, "world": 5, "order": 16 }, "Valley_Visitor": { "id": 350, "world": 6, "order": 0 }, "Scorin'_the_Ladies": { "id": 351, "world": 6, "order": 1 }, "Effervess_Enthusiess": { "id": 352, "world": 6, "order": 16 }, "That's_MY_Crown": { "id": 353, "world": 6, "order": 28 }, "Leet_Lanterns": { "id": 354, "world": 6, "order": 33 }, "Lil'_Overgrowth": { "id": 355, "world": 6, "order": 2 }, "Major_Overgrowth": { "id": 356, "world": 6, "order": 12 }, "Unreal_Overgrowth": { "id": 357, "world": 6, "order": 21 }, "Doctor_Repellant": { "id": 358, "world": 6, "order": 9 }, "Cob_Enjoyer": { "id": 359, "world": 6, "order": 26 }, "Science_Undergrad": { "id": 360, "world": 6, "order": 3 }, "Science_Graduate": { "id": 361, "world": 6, "order": 11 }, "Science_Post_Doc": { "id": 362, "world": 6, "order": 24 }, "Crop_Flooding": { "id": 363, "world": 6, "order": 30 }, "Legumulucky": { "id": 364, "world": 6, "order": 7 }, "Big_Time_Land_Owner": { "id": 365, "world": 6, "order": 15 }, "Ceramic_Sneaking": { "id": 366, "world": 6, "order": 4 }, "Top_Floor_Sneaking": { "id": 367, "world": 6, "order": 23 }, "Untying_Extraordinaire": { "id": 368, "world": 6, "order": 10 }, "Lucky_Stealy": { "id": 369, "world": 6, "order": 20 }, "Yellow_Belt": { "id": 370, "world": 6, "order": 13 }, "Straw_Hat_Stacking": { "id": 371, "world": 6, "order": 34 }, "Best_Bloomie": { "id": 372, "world": 6, "order": 8 }, "Regalis_My_Beloved": { "id": 373, "world": 6, "order": 27 }, "This,_is,_Summoning!": { "id": 374, "world": 6, "order": 14 }, "Summoning_CM": { "id": 375, "world": 6, "order": 5 }, "Summoning_IM": { "id": 376, "world": 6, "order": 17 }, "Summoning_GM": { "id": 377, "world": 6, "order": 25 }, "Penta_Defence": { "id": 378, "world": 6, "order": 18 }, "Spectre_Stars": { "id": 379, "world": 6, "order": 22 }, "Beanstacker_Trainee": { "id": 380, "world": 6, "order": 6 }, "Big_Big_Hampter": { "id": 381, "world": 6, "order": 32 }, "Ghost_Buster": { "id": 382, "world": 6, "order": 31 }, "Beanstacker_Prodigy": { "id": 383, "world": 6, "order": 19 }, "W6_is_Donezo": { "id": 384, "world": 6, "order": 29 } };





